# OSI 참조모델 & TCP/IP 참조모델

두 개의 중요한 네트워크 참조모델 `OSI 참조모델`과 `TCP/IP 참조모델`을 살펴보자.

`OSI 참조모델`과 관련된 프로토콜은 거의 사용되고 있지 않지만, 모델 그 자체는 실제로 아주 일반적이고 아주 유효하다. `TCP/IP 참조모델`은 정반대로 모델 그 자체는 거의 사용되고 있지 않지만 프로토콜은 널리 사용되고 있다.

이러한 이유로 두 모델의 핵심 내용을 살펴보자.

## OSI 참조모델

이 모델은 **다양한 계층에서 사용되는 프로토콜들의 국제 표준화**를 위한 첫 번째 과정으로서 `ISO(International Standards Organization)`가 개발한 제안사항에 근거하고 있고, 이 모델은 1995년에 개정되었다.

이 모델은 **다른 시스템들과의 통신이 개방된 시스템 간의 연결**을 다루기 때문에 ISO `OSI(Open System Interconnection) 참조모델`이라고 한다.

이 모델은 7계층으로 구성되어 있고, 7계층에 적용된 원리는 다음과 같다.

1. 한 계층은 다른 수준의 **추상화**가 필요한 곳에 만들어진다.
2. 각 계층은 **명확하게 정의된 기능을 수행**한다.
3. 각 계층의 기능은 **국제적으로 표준화된 프로토콜을 정의하는 목적**으로 선택된다.
4. 각 계층의 경계는 인터페이스를 통하는 **정보 흐름을 최소화하도록 선택**된다.
5. 계층의 수는 서로 다른 기능들이 필요 이상으로 **한 계층에 집중되지 않도록 충분히 많아야 하고 구조가 방만하지 않도록 충분히 적어야 한다.**

`OSI 모델` 자체는 **각 계층에서 사용되어야 하는 서비스와 프로토콜에 대해 정확하게 규정하지 않기** 떄문에 네트워크 구조는 아니고 **단지 각 계층이 수행해야 하는 기능**에 대하여 말한다.

이제 각 계층에 대해서 아래부터 시작해서 살펴보자. 각 계층은 간단하고 핵심만 살펴보도록 한다.

### 물리 계층(Physical Layer)

`물리 계층`은 통신 채널로서 **원시 비트(0 or 1)들을 전송하는 기능**을 담당한다.

이 계층의 설계 쟁점은 **송신측이 비트 1을 송신하면 수신측이 비트 0이 아닌 1을 수신함을 보장**하는 것이다. 또한 이 계층의 설계 쟁점은 물리적 계층 아래에 위치한 물리 전송매체뿐만 아니라 기계적, 전기적, 타이밍 인터페이스에 관한 것이다.

**요약**

- 원시 비트(0 or 1)을 전송하는 기능 담당
- 올바른 송수신 비트 전달 보장
- 물리적 계층 아래 및 기계적, 전기적, 타이밍 인터페이스도 포함
- 데이터 타입: 비트(Bit)

### 데이터 링크 계층(Data Link Layer)

`데이터 링크 계층`의 주요 임무는 **오류없는 전송을 위해서 원시데이터를 회선으로 변환**하는 것이다. 네트워크 계층을 보지 않도록 실제 오류를 마스킹한다. 이것은 송신측에서 데이터를 `데이터 프레임(data frame)`으로 **나누어서 각 프레임을 순서대로 전송**함으로써 수행된다.

또한 데이터 링크 계층은 트래픽 제어도 수행한다. 송신측과 수신측의 데이터 전송 속도 차이를 예방하기 위한 방법이다.

**요약**

- 데이터를 데이터 프레임이라는 단위로 나누어서 각 프레임을 순서대로 전송
- 오류제어, 트래픽 제어
- 데이터 타입: 데이터 프레임(Data Frame)

### 네트워크 계층(Network Layer)

네트워크 계층은 서브넷의 동작을 제어한다.

이 계층의 설계 쟁점은 **송신측에서 수신측으로의 패킷 전송 경로를 결정**하는 것이다. 패킷이 최종 목적지에 도달할 때 송수신간의 네트워크 패킷의 크기 차이라던지 네트워크의 주소지정방식의 차이가 발생할 수 있는데, 이 떄 네트워크 계층은 이런 **문제(이기종 네트워크 간의 상호연결)를 해결**해준다.

**요약**

- 송수신측의 패킷 전송 경로를 결정
- 이기종 네트워크간의 상호연결을 제공
- 데이터 타입: 패킷(Packet)

### 트랜스포트 계층(Transport Layer)

트랜스포트 계층의 기본 기능은 **송수신측의 데이터 전달에 있어서 신뢰성을 제공**한다. 즉, 송신측이 전송한 데이터를 수신측이 **정확하게 받을 수 있도록** 해준다는 것이다.

또한 이 계층은 데이터를 **전송된 순서대로 도착하도록 보장**해주고, **오류검출 및 복구** 기능도 수행한다.

**요약**

- 데이터 전달에 있어서 신뢰성을 제공
- 데이터 전달에 있어서 순서대로 도착하도록 보장
- 오류검출 및 복구 기능 제공

### 세션 계층(Session Layer)

세션 계층은 **두 컴퓨터간의 대화나 세션관리**를 담당한다. 또한 대화 제어(누가 전송할 차례인지 기억), 토큰 관리(양측이 동시에 같은 동작을 하지 못하게 함), 동기화를 포함한 여러가지 서비스를 제공한다.

또한 이 계층은 **양방향 통신인지 단방향 통신인지 확인**하는 역할도 수행한다.

**요약**

- 두 컴퓨터간의 대화나 세션을 관리
- 양방향 통신인지 단방향 통신인지 확인

### 표현 계층(Presentation Layer)

주로 비트를 전송하는 것과 관련된 하위 계층과는 달리 표현 계층은 **전송되는 정보의 구문 및 의미규칙과 관련**이 있다.

간단하게 핵심만 말하면 표현 계층은 **인코딩, 디코딩, 압축 및 암호화 등을 수행**하는 계층이다.

**요약**

- 정보의 구문 및 의미규칙 관련 계층
- 인코딩, 디코딩, 압축 및 암호화 수행

### 응용 계층(Application Layer)

응용 계층은 주로 사용자들에게 필요한 여러 가지 프로토콜을 포함한다. 널리 사용되고 있는 응용 프로토콜 중 하나로서 월드와이드앱(WWW)의 기초가 되는 HTTP가 있다.

다른 응용 프로토콜로는 파일 전송, 전자 우편, 네트워크 뉴스 등에 사용된다.

**요약**

- 사용자가 네트워크 자원에 접근하는 방법 제공
- 대표적인 프로토콜은 HTTP, FTP, SMTP 등이 존재

## TCP/IP 참조모델

TCP/IP 참조모델의 탄생 이유는 어떻게 하면 여러 네트워크들을 이음새 없이 연결할 수 있을지에 대한 연구에서 시작되었다.

또 다른 설계 목표는 이미 연결된 대화가 단절되지 않고 그대로 유지될 수 있도록 하는 것이었다. 몇몇 통신기기들과 전송회선들이 통신 중에 갑자기 고장 나더라도 송신측과 수신측 통신기기가 제 기능을 수행하고 있는 동안은 연결이 그대로 유지될 수 있기를 희망하였던 것이다.

더구나 파일 전송에서부터 실시간 음성 전송의 영역까지 다양한 요구사항의 응용들이 설계되었기 때문에 탄력성 있는 구조가 필요했다.

### 링크 계층(Link Layer)

위와 같은 요구사항을 만족시키기 위해서 비연결형 인터넷 계층을 기반으로 한 패킷 교환 네트워크를 선택해야 했다. 이 모델에서 링크 계층은 **이더넷과 같은 링크가 연결 없는 인터넷 계층의 요구를 충족하기 위해 해야할 일**을 설명한다.

### 인터넷 계층(Internet Layer)

이 계층은 호스트가 **패킷을 임의의 네트워크로 전송**할 수 있게 하고, **각각의 패킷이 독립적인(서로 다른 네트워크) 경로를 따라 목적지에 도착**할 수 있게 한다. 하지만 이 패킷은 **순서를 보장하지 않는다.**

인터넷 계층은 공식적인 패킷 포맷 `IP`라 불리는 프로토콜, 이 기능을 도와주는 동료 프로토콜인 `ICMP(Internet Control Message Protocol)`라 불리는 프로토콜을 정의한다.

결국 인터넷 계층의 역할은 IP 패킷들을 해당 목적지에 전달하는 것이다.

### 트랜스포트 계층(Transport Layer)

TCP/IP 모델에서 인터넷 계층의 바로 위에는 트랜스포트 계층이 있다. 이 계층은 OSI 트랜스포트 계층과 같이 송수신측 호스트상의 피어들이 대화를 나눌 수 있게 한다.

두 종류의 종단 간 트랜스포트 프로토콜이 이 계층에서 정의된다. 그 중 하나인 `TCP(Transmission Control Protocol)`는 송신측에서 전송한 **바이트 스트림**을 **오류 없이 전달하는 신뢰성있는 연결형 프로토콜**이다. 또한 TCP는 저속의 수신측이 고속의 송신측에 의해 폭주하는 상황을 막기 위한 **흐름제어** 기능도 수행한다.

또 다른 하나인 UDP(User Datagram Protocol)는 TCP의 순서제어나 흐름제어와 같은 기법들이 필요로하지 않고 신뢰성 없는 비연결형 프로토콜이다.

UDP는 일회성 전송 또는 정확한 전송보다는 실시간 전송을 필요로 하는 전화와 같은 곳에 폭넓게 사용되고 있다.

### 응용 계층(Application Layer)

TCP/IP 모델은 세션 계층과 표현 계층을 가지고 있지 않다. 대신에 응용 프로그램은 단순히 필요한 모든 세션과 표현 기능을 포함한다.

이 계층에는 TELNET(가상 터미널), FTP(파일 전송 프로토콜), SMTP(전자우편 전송 프로토콜), DNS, HTTP 등이 있다.